#第8章 セキュリティとアイデンティティ

##8-1 セキュリティとアイデンティティ

###AWSのアカウントの種類
- AWSには「AWSアカウント」と「IAMユーザー」と呼ばれる2種類のアカウントがある
  - AWSアカウント
    - AWSへサインアップするときに作成されるアカウント
    - AWSのすべてのサービスをネットワーク上のどこからでも利用可能なため、そのユーザーはルートユーザーとも呼ばれる
  - IAMユーザー
    - AWSを利用する各利用者向けに作成されるアカウント
    - 初期状態ではIAMユーザーは存在しない
    - AWSアカウントでログインし、必要に応じてIAMユーザーを作成する
- 複数のAWSアカウントを管理するためのAWS Organizations(組織アカウント)という機能も追加されている
- 組織アカウントを利用することで、複数のアカウントの請求をひとまとめにする一括決済が可能となっている
- 利用可能なサービスをAWSアカウント単位で制限するサービスコントロールポリシー(SCP)も利用できるようになっている

###AWSアカウント
- ルートユーザーはAWSの全サービスに対してネットワーク上のどこからも操作できる権限を持っている
- 強力なアカウントであるため、取り扱いには注意する必要がある
- AWSでシステムを構築・運用する場合は、IAMユーザーを利用することが推奨
- AWSアカウント単位では利用シーンを制御する方法がないため、多要素認証(MFA)の設定をしておくことが推奨される

###IAMユーザー
- IAMユーザーは、AWSの各利用者がWebコンソールにログインして操作するときや、APIを利用してAWSを操作するときなどに使用する
- 各IAMユーザーに対して、操作を許可する(しない)サービスが定義できる
- 各IAMユーザーの権限を正しく制限することで、AWSをより安全に使用できる
- IAMユーザーの管理はセキュリティの要
- VPCやEC2・S3をどんなにセキュアに保って管理しても、IAMユーザーの管理が杜撰であれば、AWSの乗っ取りは簡単であるため、管理はとても重要

###IAMの機能
IAM(Identity and Access Management)の主要な機能には次の4つ
  - IAMポリシー
  - IAMユーザー
  - IAMグループ
  - IAMロール
- ユーザーに権限を付与するまでの流れ
  - AWSサービスやAWSリソースに対する操作権限をIAMポリシーとして定義する
  - IAMポリシーをIAMユーザーやIAMグループにアタッチする
  - IAMユーザーあるいはIAMグループに属するIAMユーザーがマネジメントコンソールにログインすると、付与された権限の操作を行うことができる
- IAMユーザーは、利用者を特定することを前提として利用する
- IAMロールは、必要に応じてどのような権限を付与するかという役割を与えるサービス

